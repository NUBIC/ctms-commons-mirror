2009-12-08 15:15:31,417 [http-18443-Processor19] e.n.b.s.u.o.ProxyEncapsulator ERROR: There was a problem proxying org.acegisecurity.userdetails.UsernameNotFoundException: Unknown user tstusr01@nih.gv (org.acegisecurity.userdetails.UsernameNotFoundException@163150) in classloader 89.0
java.lang.NoClassDefFoundError: org/springframework/core/NestedRuntimeException
        at java.lang.Class.getDeclaredConstructors0(Native Method)
        at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)
        at java.lang.Class.getConstructor0(Class.java:2671)
        at java.lang.Class.getDeclaredConstructor(Class.java:1953)
        at net.sf.cglib.core.ReflectUtils.getConstructor(ReflectUtils.java:244)
        at net.sf.cglib.core.ReflectUtils.newInstance(ReflectUtils.java:220)
        at net.sf.cglib.reflect.FastClass$Generator.firstInstance(FastClass.java:76)
        at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:231)
        at net.sf.cglib.reflect.FastClass$Generator.create(FastClass.java:64)
        at net.sf.cglib.proxy.MethodProxy.helper(MethodProxy.java:81)
        at net.sf.cglib.proxy.MethodProxy.create(MethodProxy.java:46)
        at org.acegisecurity.AuthenticationException$$EnhancerByCGLIB$$94ebfce5.CGLIB$STATICHOOK78(<generated>)
        at org.acegisecurity.AuthenticationException$$EnhancerByCGLIB$$94ebfce5.<clinit>(<generated>)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at net.sf.cglib.proxy.Enhancer.setCallbacksHelper(Enhancer.java:616)
        at net.sf.cglib.proxy.Enhancer.setThreadCallbacks(Enhancer.java:609)
        at net.sf.cglib.proxy.Enhancer.createUsingReflection(Enhancer.java:631)
        at net.sf.cglib.proxy.Enhancer.firstInstance(Enhancer.java:538)
        at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:225)
        at net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:377)
        at net.sf.cglib.proxy.Enhancer.create(Enhancer.java:304)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.ProxyEncapsulator.proxyWithCglib(ProxyEncapsulator.java:117)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.ProxyEncapsulator.encapsulate(ProxyEncapsulator.java:81)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.Membrane.traverse(Membrane.java:100)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.Membrane.traverse(Membrane.java:55)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.EncapsulationInterceptor.invoke(EncapsulationInterceptor.java:54)
        at $Proxy100.loadUserByUsername(Unknown Source)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at edu.northwestern.bioinformatics.studycalendar.osgi.hostservices.internal.HostBeansImpl$DeferredBeanInvoker.invoke(HostBeansImpl.java:91)
        at $Proxy57.loadUserByUsername(Unknown Source)
        at edu.northwestern.bioinformatics.studycalendar.security.plugin.websso.WebSSOAuthoritiesPopulator.getUserDetails(WebSSOAuthoritiesPopulator.java:66)
        at org.acegisecurity.providers.cas.CasAuthenticationProvider.authenticateNow(CasAuthenticationProvider.java:143)
        at org.acegisecurity.providers.cas.CasAuthenticationProvider.authenticate(CasAuthenticationProvider.java:122)
        at org.acegisecurity.providers.ProviderManager.doAuthentication(ProviderManager.java:200)
        at org.acegisecurity.AbstractAuthenticationManager.authenticate(AbstractAuthenticationManager.java:47)
        at org.acegisecurity.ui.cas.CasProcessingFilter.attemptAuthentication(CasProcessingFilter.java:76)
        at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:252)
        at edu.northwestern.bioinformatics.studycalendar.security.internal.AuthenticationSystemSocket.doFilter(AuthenticationSystemSocket.java:58)
        at edu.northwestern.bioinformatics.studycalendar.tools.MultipleFilterFilter$VirtualFilterChain.doFilter(MultipleFilterFilter.java:79)
        at org.acegisecurity.ui.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
        at edu.northwestern.bioinformatics.studycalendar.security.internal.AuthenticationSystemLogoutFilter.doFilter(AuthenticationSystemLogoutFilter.java:28)
        at edu.northwestern.bioinformatics.studycalendar.tools.MultipleFilterFilter$VirtualFilterChain.doFilter(MultipleFilterFilter.java:79)
        at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)
        at edu.northwestern.bioinformatics.studycalendar.tools.MultipleFilterFilter$VirtualFilterChain.doFilter(MultipleFilterFilter.java:79)
        at edu.northwestern.bioinformatics.studycalendar.tools.MultipleFilterFilter.doFilter(MultipleFilterFilter.java:39)
        at sun.reflect.GeneratedMethodAccessor1164.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.EncapsulationInterceptor.invoke(EncapsulationInterceptor.java:40)
        at $Proxy269.doFilter(Unknown Source)
        at edu.northwestern.bioinformatics.studycalendar.web.osgi.InstalledAuthenticationSystem.doFilter(InstalledAuthenticationSystem.java:43)
        at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
        at gov.nih.nci.cabig.ctms.web.filters.BeansInRequestFilter.doFilter(BeansInRequestFilter.java:39)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
        at org.globus.tomcat.coyote.valves.HTTPSValve55.invoke(HTTPSValve55.java:45)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)
        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
        at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)
        at java.lang.Thread.run(Thread.java:595)
2009-12-08 15:15:31,419 [http-18443-Processor19] o.a.c.c.C.[.[.[/psc].[default] ERROR: Servlet.service() for servlet default threw exception
java.lang.NoClassDefFoundError: org/springframework/core/NestedRuntimeException
        at java.lang.Class.getDeclaredConstructors0(Native Method)
        at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)
        at java.lang.Class.getConstructor0(Class.java:2671)
        at java.lang.Class.getDeclaredConstructor(Class.java:1953)
        at net.sf.cglib.core.ReflectUtils.getConstructor(ReflectUtils.java:244)
        at net.sf.cglib.core.ReflectUtils.newInstance(ReflectUtils.java:220)
        at net.sf.cglib.reflect.FastClass$Generator.firstInstance(FastClass.java:76)
        at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:231)
        at net.sf.cglib.reflect.FastClass$Generator.create(FastClass.java:64)
        at net.sf.cglib.proxy.MethodProxy.helper(MethodProxy.java:81)
        at net.sf.cglib.proxy.MethodProxy.create(MethodProxy.java:46)
        at org.acegisecurity.AuthenticationException$$EnhancerByCGLIB$$94ebfce5.CGLIB$STATICHOOK78(<generated>)
        at org.acegisecurity.AuthenticationException$$EnhancerByCGLIB$$94ebfce5.<clinit>(<generated>)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at net.sf.cglib.proxy.Enhancer.setCallbacksHelper(Enhancer.java:616)
        at net.sf.cglib.proxy.Enhancer.setThreadCallbacks(Enhancer.java:609)
        at net.sf.cglib.proxy.Enhancer.createUsingReflection(Enhancer.java:631)
        at net.sf.cglib.proxy.Enhancer.firstInstance(Enhancer.java:538)
        at net.sf.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:225)
        at net.sf.cglib.proxy.Enhancer.createHelper(Enhancer.java:377)
        at net.sf.cglib.proxy.Enhancer.create(Enhancer.java:304)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.ProxyEncapsulator.proxyWithCglib(ProxyEncapsulator.java:117)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.ProxyEncapsulator.encapsulate(ProxyEncapsulator.java:81)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.Membrane.traverse(Membrane.java:100)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.Membrane.traverse(Membrane.java:55)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.EncapsulationInterceptor.invoke(EncapsulationInterceptor.java:54)
        at $Proxy100.loadUserByUsername(Unknown Source)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at edu.northwestern.bioinformatics.studycalendar.osgi.hostservices.internal.HostBeansImpl$DeferredBeanInvoker.invoke(HostBeansImpl.java:91)
        at $Proxy57.loadUserByUsername(Unknown Source)
        at edu.northwestern.bioinformatics.studycalendar.security.plugin.websso.WebSSOAuthoritiesPopulator.getUserDetails(WebSSOAuthoritiesPopulator.java:66)
        at org.acegisecurity.providers.cas.CasAuthenticationProvider.authenticateNow(CasAuthenticationProvider.java:143)
        at org.acegisecurity.providers.cas.CasAuthenticationProvider.authenticate(CasAuthenticationProvider.java:122)
        at org.acegisecurity.providers.ProviderManager.doAuthentication(ProviderManager.java:200)
        at org.acegisecurity.AbstractAuthenticationManager.authenticate(AbstractAuthenticationManager.java:47)
        at org.acegisecurity.ui.cas.CasProcessingFilter.attemptAuthentication(CasProcessingFilter.java:76)
        at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:252)
        at edu.northwestern.bioinformatics.studycalendar.security.internal.AuthenticationSystemSocket.doFilter(AuthenticationSystemSocket.java:58)
        at edu.northwestern.bioinformatics.studycalendar.tools.MultipleFilterFilter$VirtualFilterChain.doFilter(MultipleFilterFilter.java:79)
        at org.acegisecurity.ui.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
        at edu.northwestern.bioinformatics.studycalendar.security.internal.AuthenticationSystemLogoutFilter.doFilter(AuthenticationSystemLogoutFilter.java:28)
        at edu.northwestern.bioinformatics.studycalendar.tools.MultipleFilterFilter$VirtualFilterChain.doFilter(MultipleFilterFilter.java:79)
        at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)
        at edu.northwestern.bioinformatics.studycalendar.tools.MultipleFilterFilter$VirtualFilterChain.doFilter(MultipleFilterFilter.java:79)
        at edu.northwestern.bioinformatics.studycalendar.tools.MultipleFilterFilter.doFilter(MultipleFilterFilter.java:39)
        at sun.reflect.GeneratedMethodAccessor1164.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:585)
        at edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.EncapsulationInterceptor.invoke(EncapsulationInterceptor.java:40)
        at $Proxy269.doFilter(Unknown Source)
        at edu.northwestern.bioinformatics.studycalendar.web.osgi.InstalledAuthenticationSystem.doFilter(InstalledAuthenticationSystem.java:43)
        at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
        at gov.nih.nci.cabig.ctms.web.filters.BeansInRequestFilter.doFilter(BeansInRequestFilter.java:39)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:172)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
        at org.globus.tomcat.coyote.valves.HTTPSValve55.invoke(HTTPSValve55.java:45)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)
        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
        at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)
        at java.lang.Thread.run(Thread.java:595)
2009-12-08 15:15:31,457 [http-18443-Processor19] o.a.c.c.C.[.[.[/psc].[public] ERROR: Servlet.service() for servlet public threw exception
java.net.ConnectException: Connection refused
        at java.net.PlainSocketImpl.socketConnect(Native Method)
        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)
        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)
        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
        at java.net.Socket.connect(Socket.java:519)
        at java.net.Socket.connect(Socket.java:469)
        at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:233)
        at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:189)
        at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:1359)
        at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:412)
        at javax.mail.Service.connect(Service.java:288)
        at org.springframework.mail.javamail.JavaMailSenderImpl.doSend(JavaMailSenderImpl.java:389)
        at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:308)
        at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:297)
        at edu.northwestern.bioinformatics.studycalendar.web.ErrorController.handleRequestInternal(ErrorController.java:38)
        at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:153)
        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)
        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:875)
        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:807)
        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:571)
        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:501)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:627)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)
        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:679)
        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:463)
        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:399)
        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)
        at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:364)
        at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:285)
        at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:229)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)
        at org.globus.tomcat.coyote.valves.HTTPSValve55.invoke(HTTPSValve55.java:45)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:174)
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:875)
        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
        at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)
        at java.lang.Thread.run(Thread.java:595)
